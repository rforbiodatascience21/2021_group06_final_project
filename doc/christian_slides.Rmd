---
title: "COVID-19 Data Project"
author: "Christian Johansen, Anna Jorgensen, Hanna Lund, Joen Jensen"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  ioslides_presentation:
    logo: presentation_images/Corp_Red_RGB.png

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
```

## Introduction | Covid-19 and goals for the project

**Our goal** : Investigate how/if selected global socio-economic factors are correlated with the spread of Covid-19


```{r, echo = FALSE, out.width= "500px", fig.align = 'center'}
knitr::include_graphics("presentation_images/globecovid.jpg")
```
<font size="2"> photo from::https://sdbi.in/artificial-intelligence-and-big-data-to-control-covid-19"</font>

## Materials and methods | Datasets and workflow
- Covid-19 data from the github repository of John Hopkins University 
- Demographic and social factors on a country basis from gapminder and worldbank
- Latitude and longitude data for countries is from the "maps" package dataset

```{r, echo = FALSE, out.width= "700px", fig.align = 'center'}
knitr::include_graphics("presentation_images/workflow.png")
```
 
## Materials and method | Cleaning & Augmenting

**Cleaning: Issues with dataset:**

- <font size="4">Timeseries data in very wide format</font>
- <font size="4">Country names were not consistent over data sources</font>
- <font size="4">Multiple files had to be combined</font>
- <font size="4">Recovered are reported inconsistently</font>

**Augmentation:**

- <font size="4">Calculate cases, deaths, and recoveries per 100K citizens</font>
- <font size="4">Additional augmentations with rolling means and new cases per day</font>
- <font size="4">For shiny app: Join latitude and longitude data to the country level Covid data.</font>



## Materials and method | Data exploration and models

- Initial exploratory data analysis (eda)
- modelling:
  * PCA analysis: any trends, clusters, outliers in cases via countries and dependent variables?
  * 2 simple linear regressions: 
    + $y=\beta_0 + \beta_1 x_1+ \beta_2 x_2 + \epsilon$ grouped by Income category of country. 
    + $y=\beta_0 + \beta_1 x_1+ \beta_2 x_2 + \epsilon$ grouped by region
    
- Exploring Covid "waves" and case fatality

## Results - Exploratory Data Analysis

```{r, echo = FALSE, out.width="600px", out.height= "400px" , fig.align = 'center'}
knitr::include_graphics("../results/06_highest_cases_per_region.png")
```

## Results - Exploratory Data Analysis | Visualise correlation between income groups

```{r, echo = FALSE, out.width = "475px", out.height = "475px", fig.align = 'center'}
knitr::include_graphics("../results/06_eda_slide_plot.png")
```


## Results - Models | PCA on continous demographic and social variables 
- <font size="4"> PC 1 explains differences in cases fairly well</font>
- <font size="4"> Some countries are outliers in this projection</font>

```{r, echo = FALSE, out.width = "600px", out.height = "350px" , fig.align = 'center'}
knitr::include_graphics("../results/04_pca_projections_&_directions.png")
```

## Results - Linear regression model
- <font size="4"> Deaths vs. (A) Pop % above 65 years and (B) Pop % living in urban areas. Grouped by income level. </font>

```{r, echo = FALSE, out.height = "400px", fig.align = 'center'}
knitr::include_graphics("../results/05_lm1_line_plot.png")
```

## Results - Linear regression model
- <font size="4"> Significant slope estiamtes for pop % > 65 with high income, pop % > 65 and pop % in urban with upper middle income, and pop % > 65 with lower middle income. </font>

```{r, echo = FALSE, out.height = "400px", fig.align = 'center'}
knitr::include_graphics("../results/05_lm1_Est_plot1.png")
```

## Results - Covid waves | 

## Covid-19 overview Shiny App

https://christianjohansen.shinyapps.io/covid-19_app/

## Discussion and Conclusion
- Looking at correlations and not causation
- linear model is not dealing with collinearity of features
- In general more developed countries has been hit harder
 
